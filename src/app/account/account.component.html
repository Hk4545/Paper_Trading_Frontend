<app-navbar></app-navbar>


<div class="mainContainer">
    <div style="display: flex; justify-content: space-between;">
        <div class="accountHeading">Account</div>
        <div style="width:80px; margin-right: 15px; align-content: center; cursor: pointer; font-size: medium;" (click)="removeUser()">
            Log out
        </div>
    </div>
    
    <hr style=" margin-left: 20px;">
    <div class="contentContainer">
        <!-- <div class="singleContainer">
            <div style="font-size: 18px; font-weight: 500;">UserId : </div>
            <div>12345</div>
        </div> -->
        <div class="singleContainer">
            <div style="font-size: 18px; font-weight: 500;">Name : </div>
            <div>{{userData?.data?.username}}</div>
        </div>
        <div class="singleContainer">
            <div style="font-size: 18px; font-weight: 500;">Email : </div>
            <div>{{userData?.data?.email}}</div>
        </div>
        
    </div>
    <div class="accountHeading" style="margin-top: 35px;">Funds </div>
    <hr style=" margin-left: 20px;">
    <div style="display: flex;" class="singleContainer">
            <span style="font-size: 18px; font-weight: 500;">Funds Remaining :</span>
            <span>{{(amount?.amount ) | number:'1.2-2'}}</span>
    </div>
    <div class="accountHeading" style="margin-top: 35px;">
        P&L Statement</div>
    <hr style=" margin-left: 20px;">
    <div style="margin-top: 25px; margin-left: 20px; font-weight: 500;">Past Orders</div>
    <div style="margin-top: 20px; padding-bottom: 30px; width: 100%; display: flex; justify-content: center;">
        <table *ngIf="allStocks.length > 0">
            <thead>
                <th>S.No</th>
                <th>Stock</th>
                <th>Buy Price</th>
                <th>Sell Price</th>
                <th>Quantity</th>
                <th>Profit/Loss</th>
                <th>Change</th>
            </thead>
            <tbody>
                <tr *ngFor="let data of allStocks; let index=index">
                    <td>{{index+1}}</td>
                    <td>{{data?.stock_name}}</td>
                    <td>{{data?.price}}</td>
                    <td>{{data?.sell_price}}</td>
                    <td>{{data?.qty}}</td>
                    <td style="color: {{data?.sell_price >= data?.price ? 'green':'red'}}">{{data?.sell_price >= data?.price ? "+ ": ""}}{{((data?.sell_price - data?.price) * data?.qty )|number:'1.2-2'}}% </td>
                    <td style="color: {{data?.sell_price >= data?.price ? 'green':'red'}}">{{data?.sell_price >= data?.price ? "+ ": ""}}{{((data?.sell_price - data?.price)/data?.price * 100) |number:'1.2-2' }}%</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>